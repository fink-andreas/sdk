<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>ui.popup</title>
    <link rel="stylesheet" href="../lib/innovaphone.lib.css" type="text/css" />
    <link rel="stylesheet" href="../styles/innovaphone.Styles.css" type="text/css" />
    <link rel="stylesheet" href="../lib/innovaphone.doc.css" type="text/css" />
    <script src="../lib/innovaphone.lib.js" type="text/javascript"></script>
    <script src="../ui.elementscontainer/innovaphone.ui.ElementsContainer.js" type="text/javascript"></script>
    <script src="../ui.popup/innovaphone.ui.Popup.js" type="text/javascript"></script>
    <script src="../ui.drag/innovaphone.ui.Drag.js" type="text/javascript"></script>
    <script src="../ui.button/innovaphone.ui.Button.js" type="text/javascript"></script>
    <script src="../ui.text/innovaphone.ui.Text.js" type="text/javascript"></script>
    <script src="../ui.input/innovaphone.ui.Input.js" type="text/javascript"></script>
    <script src="../ui.scrollbar/innovaphone.ui.ScrollBar.js" type="text/javascript"></script>
    <script src="innovaphone.ui.Popup.js" type="text/javascript"></script>

    <script type="text/javascript">
        function Try() {
            var out = document.getElementById('out');
            out.innerText = "";
            eval(document.getElementById('code').value);
        }
    </script>
</head>

<body>
    <h1>ui.popup</h1>
    <button onclick="Try()">Try</button>
    <div style="position:relative; height:420px">
        <textarea id="code" style="position: absolute; left: 0px; top: 0px; width: 600px; height: 400px; border: 1px solid grey; font-family: Lucida Console">
var popup = new innovaphone.ui.Popup(null, "Popup", 2, 400, 200, "Enhanced popup text");
popup.addButton("Ok", function () { alert("ok"); popup.close(); });
var input = new innovaphone.ui.InputText(null, "test");
popup.addElement(input.container);
popup.adjustColumnWidth(1); // you need to call adjustColumnWidth or resize to enforce a resize of the inner popup scrollbar
        </textarea>
        <div id="out" style="position:absolute; left:610px; top:0px; width:600px; height:400px; border:1px solid grey">

        </div>
    </div>
    <h2> innovaphone.ui.Popup(container, headText, columnCount, width, height, subHeaderText) </h2>

    <p>
        Opens a popup with a partly transparent background. Uses the ElementsContainer internally to place elements.
        Includes scrollbar.
    </p>

    <ul>
        <li>container: if null, container is set to document.body</li>
        <li>headText: the headline text of the popup</li>
        <li>columnCount: number of columns in which elements are placed</li>
        <li>with: the width of the ElementsContainer</li>
        <li>height: the height of the ElementsContainer</li>
        <li>[subHeaderText]: a further header text which is placed below the head (e.g. used in the wizard)</li>
    </ul>

    <h2>Members</h2>
    <dl>
        <dt>content</dt>
        <dd>the content node which contains the shown elements</dd>
    </dl>

    <h2>Functions</h2>
    <dl>
        <dt>addElement(element, fillLine)</dt>
        <dd>
            see innovaphone.ui.ElementsContainer
            If you're finished with adding elements, you must call either adjustColumnWidth or resize to ensure a correct scrollbar height inside the popup
        </dd>
        <dt>adjustColumnWidth(column)</dt>
        <dd>
            see innovaphone.ui.ElementsContainer
        </dd>
        <dt>hide()</dt>
        <dd>
            hides the popup
        </dd>
        <dt>show()</dt>
        <dd>
            shows the popup
        </dd>
        <dt>close()</dt>
        <dd>
            closes the popup
        </dd>
        <dt>setOnClose(funcOnClose)</dt>
        <dd>
            sets a function which is called on close
        </dd>
        <dt>addButton(text, funcOnClick, clickOnEnter, clickOnEscape)</dt>
        <dd>
            adds a button to the right bottom corner, multiple buttons are placed next to each other
            <dl>
                <dt>clickOnEnter</dt>
                <dd>
                    a boolean. If set, this button is "clicked" if the user presses enter on any placed element
                </dd>
                <dt>clickOnEscape</dt>
                <dd>
                    a boolean. If set, this button is "clicked" if the user presses escape
                </dd>
            </dl>
        </dd>
    </dl>


    <h3>Keyboard Handling</h3>
    <ul>
        <li>Enter "clicks" the button with clickOnEnter=true, but only if the incoming event doesn't has defaultPrevented set</li>
        <li>Escape "clicks" the button with clickOnEscape=true, but only if there is no active input element (innovaphone.lib.getActiveInput()==null)</li>
    </ul>

</body>
</html>
